<header tuiNavigationHeader>
  <div tuiNavigationLogo>
    <label
      #drawerToggle
      data-drawer-hide="my-drawer"
      for="my-drawer"
      class="btn btn-square btn-ghost lg:hidden"
    >
      <svg-icon key="hamburger" />
    </label>
    <tui-icon icon="@tui.cat" />
    <span id="menu-title" tuiFade class="tui-text_body-m-2"
      >Baza karm dla kotów</span
    >
  </div>
  <button
    appearance="accent"
    iconStart="@tui.calculator"
    tuiButton
    type="button"
  >
    <a [style.color]="'white'" [href]="'https://kalkulator.kotopedia.pl'"
      >Kalkulator</a
    >
  </button>
  <hr />
  <span class="bk-sm-hidden">
    {{ userId ? userId : '' }}
  </span>
</header>

<ng-content />

<div class="lg:hidden">
  <div class="drawer">
    <input type="checkbox" id="my-drawer" class="drawer-toggle" />
    <div class="drawer-side w-100" [style.z-index]="101">
      <label for="my-drawer" class="drawer-overlay"></label>

      <div
        class="menu p-4 overflow-y-auto mt-16 lg:mt-0"
        [style.background]="'#1b1f3b'"
      >
        <span [style.color]="'white'">Karmy</span>

        <ul [style.width]="'20rem'">
          <li>
            <ul class="pl-4">
              @for (link of links.mobile; track link.route) {
                <li class="pb-1">
                  <a
                    [style.color]="'white'"
                    (click)="linkClicked()"
                    [routerLink]="[link.route]"
                    [class.active-link]="router.url === link.route"
                    >{{ link.name }}</a
                  >
                </li>
              }
            </ul>
          </li>

          @if(!userId) {
            <li>
              <a
                class="mb-2"
                (click)="linkClicked()"
                iconStart="@tui.user"
                [class.active-link]="router.url === '/login'"
                [style.color]="'white'"
                [routerLink]="'/login'"
              >
                Zaloguj się
              </a>
            </li>
          } @else {
            <li>
              <a
                class="mb-2"
                (click)="logout()"
                iconStart="@tui.log-out"
                [style.color]="'white'"
              >
                Wyloguj się
              </a>
            </li>
          }

          <span [style.color]="'white'">{{
            userId ? 'Zalogowano: ' + userId : ''
          }}</span>
        </ul>
      </div>
    </div>
  </div>
</div>
